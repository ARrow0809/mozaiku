# Mozaiku - macOS ワンクリック起動ガイド

## 🚀 ワンクリック起動方法

### 方法1: ダブルクリック起動（推奨）
1. **`mozaiku_launcher.command`** をダブルクリック
2. 初回のみ「開発元を確認できません」と表示される場合:
   - 右クリック → 「開く」を選択
   - 「開く」ボタンをクリック
3. ターミナルが開いて自動でブラウザが起動します

### 方法2: ターミナルから起動
```bash
./start_mozaiku.sh
```

## 📱 使用方法

### 起動後
1. **ブラウザが自動で開きます** (http://localhost:8002)
2. **初回起動時**: AIモデルのダウンロードで1-2分かかります
3. **画像をアップロード**して自動モザイク処理を実行

### 機能
✅ **自動モザイク処理** - AI（NudeNet）が自動検出  
✅ **手動モザイク処理** - ブラシツールで手動選択  
✅ **ぼかし・白塗り** - モザイク以外の処理も可能  

## 🔴 停止方法

### 方法1: ターミナルで停止
- ターミナルウィンドウで **Ctrl+C** を押す

### 方法2: 停止スクリプト使用
```bash
./stop_mozaiku.sh
```

### 方法3: 強制停止
```bash
# ポート8002を使用しているプロセスを強制終了
lsof -ti:8002 | xargs kill -9
```

## 🔧 トラブルシューティング

### 「開発元を確認できません」エラー
1. **システム環境設定** → **セキュリティとプライバシー**
2. **一般**タブで「このまま開く」をクリック
3. または以下のコマンドを実行:
```bash
xattr -d com.apple.quarantine mozaiku_launcher.command
```

### ポートが使用中エラー
```bash
# 他のプロセスがポート8002を使用している場合
./stop_mozaiku.sh
```

### Python/pipが見つからない
```bash
# Homebrewでインストール
brew install python3

# または公式サイトからダウンロード
# https://www.python.org/downloads/
```

### 依存関係エラー
```bash
# 仮想環境を削除して再作成
rm -rf venv
./start_mozaiku.sh
```

## 📁 ファイル構成

```
mozaiku/
├── mozaiku_launcher.command  # ← ダブルクリックで起動
├── start_mozaiku.sh         # メイン起動スクリプト
├── stop_mozaiku.sh          # 停止スクリプト
├── main.py                  # アプリケーション本体
├── index.html               # Webインターフェース
├── requirements.txt         # 依存関係
└── venv/                    # 仮想環境（自動作成）
```

## 💡 ヒント

- **初回起動**: AIモデルダウンロードで時間がかかります
- **高解像度画像**: 処理に時間がかかる場合があります
- **メモリ使用量**: 大きな画像では1-2GB使用することがあります
- **プライバシー**: すべての処理はローカルで実行され、画像は外部に送信されません

---

**🎉 これでワンクリックでMozaikuが起動できます！**